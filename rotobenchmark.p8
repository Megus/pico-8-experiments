pico-8 cartridge // http://www.pico-8.com
version 18
__lua__

function ssin(t, scale, tscale)
	return sin(t / (tscale or 1)) * scale
end

function scos(t, scale, tscale)
	return cos(t / (tscale or 1)) * scale
end

function _init()
  zph, zzoom, zpx, zpy, height = 0, 1, 0, 0, 16
end

function _update60()
    zph += 0.001
    zpx += 0.002
    zpy += 0.003
    zzoom += 0.001

    if btnp(3) then
      height = min(height + 1, 118  )
    end
    if btnp(2) then
      height = max(height - 1, 1)
    end
end

-- PICO-8 frame draw function
function _draw()
  cls()
	local s = 0.8 + ssin(zzoom, 0.4)
	local zdx, zdy, zsx, zsy = scos(zph, s), ssin(zph, s), ssin(zpx, 20), ssin(zpy, 20)

	for y = 0, height do
		local ztx, zty = zsx + y * zdy, zsy + y * zdx

		for x = 0, 127 do
			pset(x, y, sget(ztx % 64, zty % 64))
			ztx += zdx
			zty -= zdy
		end
	end


  cursor(0, 120)
  color(7)
  print("height: " .. height .. ", cpu: " .. stat(1) * 100)
end

__gfx__
88877777777777777777777777777777777777777777777777777777777778880000000000000000000000000000000000000000000000000000000000000000
888e77777777777777777777777777777777777777777777777777777777e8880000000000000000000000000000000000000000000000000000000000000000
88888888ee77777777777777f9999f7777f9999f77777777777777ee888888880000000000000000000000000000000000000000000000000000000000000000
88888888888e7777777777799999999ff9999999977777777777e888888888880000000000000000000000000000000000000000000000000000000000000000
88888ee777eee777777777f99aaaaf9999faaaa99f777777777eee777ee888880000000000000000000000000000000000000000000000000000000000000000
8888e77777777e7777777799aaaffaf99faffaaa9977777777e77777777e88880000000000000000000000000000000000000000000000000000000000000000
888e77777777777777777799aaf99fa99af99faa99777777777777777777e8880000000000000000000000000000000000000000000000000000000000000000
88e777bb333333bb77777799aaf9999ff9999faa99777777bb333333bb777e880000000000000000000000000000000000000000000000000000000000000000
8e77b333333333333b7777f9faaf99999999faaf9f7777b333333333333b77e80000000000000000000000000000000000000000000000000000000000000000
877b333333333333333b77799faaf999999faaf99777b333333333333333b7780000000000000000000000000000000000000000000000000000000000000000
e77333333333333333333b7f999faaf99faaf999f7b33333333333333333377e0000000000000000000000000000000000000000000000000000000000000000
77b333333b7bb333333333b7f9999faffaf9999f7b333333333bb7b333333b770000000000000000000000000000000000000000000000000000000000000000
7733337bb33333333333333b77f999faaf999f77b33333333333333bb73333770000000000000000000000000000000000000000000000000000000000000000
77337b333333333333333333b777f99ff99f777b333333333333333333b733770000000000000000000000000000000000000000000000000000000000000000
773b3333333333333333bb7b37777f9999f77773b7bb3333333333333333b3770000000000000000000000000000000000000000000000000000000000000000
77b333333333333333b77777b77777f99f77777b77777b333333333333333b770000000000000000000000000000000000000000000000000000000000000000
7b333333333333333b77777b7777777ff7777777b77777b333333333333333b70000000000000000000000000000000000000000000000000000000000000000
73b3333333333333b777773777777777777777777377777b3333333333333b370000000000000000000000000000000000000000000000000000000000000000
737b33333333333b77777b37777777777777777773b77777b33333333333b7370000000000000000000000000000000000000000000000000000000000000000
a777b33333333b7777777377b3b3b777777b3b3b7737777777b33333333b777a0000000000000000000000000000000000000000000000000000000000000000
99a777bb3bb7777b77777373333333777733333337377777b7777bb3bb777a990000000000000000000000000000000000000000000000000000000000000000
8997777777777b37777773333b7b33b77b33b7b33337777773b77777777779980000000000000000000000000000000000000000000000000000000000000000
889a7777777773b77777b33b7777b337733b7777b33b77777b3777777777a9880000000000000000000000000000000000000000000000000000000000000000
489a77777777b377777b33b777777337733777777b33b777773b77777777a9840000000000000000000000000000000000000000000000000000000000000000
889a77777777337777b33377b777b337733b777b77333b77773377777777a9880000000000000000000000000000000000000000000000000000000000000000
899777777777b33bb33333b7737b33b77b33b7377b33333bb33b7777777779980000000000000000000000000000000000000000000000000000000000000000
99a7777777777333333b77377b333377773333b77377b3333337777777777a990000000000000000000000000000000000000000000000000000000000000000
a7777777777777b3bb77773777b3b777777b3b77737777bb3b7777777777777a0000000000000000000000000000000000000000000000000000000000000000
7777888e777777777777b3777777777777777777773b777777777777e88877770000000000000000000000000000000000000000000000000000000000000000
7778888887777777777777777777777ee77777777777777777777778888887770000000000000000000000000000000000000000000000000000000000000000
77e8eee88e77777777777777777777e88e77777777777777777777e88eee8e770000000000000000000000000000000000000000000000000000000000000000
778e777e8877777777777777777777e88e7777777777777777777788e777e8770000000000000000000000000000000000000000000000000000000000000000
7e77777e887777777777777777ee777ee777ee777777777777777788e77777e70000000000000000000000000000000000000000000000000000000000000000
777777e88e777777777777777e88e778777e88e777777777777777e88e7777770000000000000000000000000000000000000000000000000000000000000000
77777e888e777777777777777e88877e877888e777777777777777e888e777770000000000000000000000000000000000000000000000000000000000000000
777e8888e77777777777777777ee78788787ee77777777777777777e8888e7770000000000000000000000000000000000000000000000000000000000000000
77e8888e777777777777777777777788887777777777777777777777e8888e770000000000000000000000000000000000000000000000000000000000000000
7e888e77777777b33b7777777777778888777777777777b33b77777777e888e70000000000000000000000000000000000000000000000000000000000000000
788e77777777b333333b777777ee78788787ee777777b333333b77777777e8870000000000000000000000000000000000000000000000000000000000000000
e8e7777bb7bb33333333b7777e888778e77888e7777b33333333bb7bb7777e8e0000000000000000000000000000000000000000000000000000000000000000
8e7777b3333333b77b3337777e88e777877e88e7777333b77b3333333b7777e80000000000000000000000000000000000000000000000000000000000000000
877777b33333377777b33b7777ee777ee777ee7777b33b77777333333b7777780000000000000000000000000000000000000000000000000000000000000000
e77777733333b77777733377777777e88e77777777333777777b33333777777e0000000000000000000000000000000000000000000000000000000000000000
e77bb333333377b3b7733b77777777e88e77777777b3377b3b773333333bb77e0000000000000000000000000000000000000000000000000000000000000000
77b33333333b77b337b337777777777ee777777777733b733b77b33333333b770000000000000000000000000000000000000000000000000000000000000000
7b3333bb3333777b3333b7777777777777777777777b3333b7773333bb3333b70000000000000000000000000000000000000000000000000000000000000000
7b33b777b333b777bbb7777b33b7777777777b33b7777bbb777b333b777b33b70000000000000000000000000000000000000000000000000000000000000000
733377777b333b7777777b3333333b7777b3333333b7777777b333b7777733370000000000000000000000000000000000000000000000000000000000000000
7333b3b777b3333bb77b3333333333b77b3333333333b77bb3333b777b3b33370000000000000000000000000000000000000000000000000000000000000000
7333333b777b3333333333336333333333333336333333333333b777b33333370000000000000000000000000000000000000000000000000000000000000000
7b33333b7777b3333333336aaa633333333336aaa6333333333b7777b33333b70000000000000000000000000000000000000000000000000000000000000000
77b333b7777777b3333336aa66a6333333336a66aa6333333b7777777b333b770000000000000000000000000000000000000000000000000000000000000000
e7777777777777b333333aa6336a33333333a6336aa333333b7777777777777e0000000000000000000000000000000000000000000000000000000000000000
e77777777777773333333aa633333333333333336aa33333337777777777777e0000000000000000000000000000000000000000000000000000000000000000
8e77777777777b333b3336aa6333333333333336aa6333b333b77777777777e80000000000000000000000000000000000000000000000000000000000000000
8e777777777773bbbb33336aa63333333333336aa63333bbbb377777777777e80000000000000000000000000000000000000000000000000000000000000000
e8e777777777b777b33bb336aa633333333336aa633bb33b777b777777777e8e0000000000000000000000000000000000000000000000000000000000000000
7e88e777777777773b777b3336aa63333336aa6333b777b377777777777e88e70000000000000000000000000000000000000000000000000000000000000000
77e88e7777777777b77777b33336a633336a63333b77777b7777777777e88e770000000000000000000000000000000000000000000000000000000000000000
777e888e7777777b77777777b33336633663333b77777777b7777777e888e7770000000000000000000000000000000000000000000000000000000000000000
77777e88e77777777777777777b3336aa6333b77777777777777777e88e777770000000000000000000000000000000000000000000000000000000000000000
777777e88e77777777777777777b333aa333b77777777777777777e88e7777770000000000000000000000000000000000000000000000000000000000000000
7777777e887777777777777777777336633777777777777777777788e77777770000000000000000000000000000000000000000000000000000000000000000
7777777788e777777777777777777733337777777777777777777e88777777770000000000000000000000000000000000000000000000000000000000000000
__label__
e7777777777777777777777777777773366333777777777777777777777777e88ee777777777e8888e7777777777b77777733336aa663333333336aaa633bb33
77777888e777777777777777777777733aa3333b77777777777777777777777e8888e777777e888e7777777777773b7777b336aa6333333333333366aa633333
7777778877777777777777777777bb333aaa6333bb777777777777b77777777777e88e77777e88e7777777777777b333bb3336a633333333333333336aa66333
7777ee887777777777777777777b33336aaa6633333b77777777bb7777777777777e888e77e888777777777bb777bbb333366aa6333333333333333336aaa333
777e888e77777777777777777b3333366333663663333bb7777773777777777777777ee8ee8ee7777777777773bbbbb3336aaa63333333333333333336aaa333
77e888e7777777b7777777777b3336a6333336a66a63333b777bb3777bb777777777777e88ee7777777777777b3333b333aaa633333333333333aa6336aa6333
77888e77777777b7b777777b3333366333333366aa636633bb333b77737777777777777e88ee7777777777777733333333aaa63366a33333333366a66aaa6333
e888777777777777b77777b33366aa633333333336aa66633333bbbb337777777777777e887777777777777777b33333333aaa666a6333333333336aaaa63333
88ee7777777777773b77bb336aaa633333333333336aaa633333b3333b77777777777777eee777777777777777b333333336aa66a63333333333333363333333
8ee77777777b7777b33bbb36aaa633333333333333366aa6333333333777777777777777eee777333b77777777b3333333336aaaa633333333333333333333bb
7777777777773bbbbb333336a663333333333333333336aa33333333b7777777777333b77777b33333b77777b333333333333366333333b77b3333333333b777
7777777777773b333b33336aaa63333333333333363336aa33333333b77777777b33333b777b333333b7777b333333333b333333333333b7777b333333337777
777777777777bb33333333aa6633333333333333a6336aa633333333b3b77777b33333333773333333b777b33333bb777b3b333333333b77777777b333b77773
7777777777777733333333aa66336aa3333333336aa66a633333333333b7b777b33333333773333b3b7777b33bb77777777b3bb33b77777777777777777777b3
77777777777777b33333336aaa66a66333333333366aaa6333333333333bb7777bb3b3333773333777777b3333777bbbb77777b3777777777777777777777733
77777777777777b3333333666aaa63333333333333336333333777bb33333b77777773333773333b7777b333bb77b33333b777777777777eee7777777777bb33
b333bb777777b3333333333363633333333333333333333333b777777b3333b77777b333b77b333b7bbb33337777b337b3377777777777e888e7777777777333
333333b77777b33333333333336333333b777b3333333333b7777777777b333bb777b333b77bb3333bb3333bb77b3337b33bb777777777e888e7777777777b33
333333b777bb3333bb77b33333333333b77777b333333bb7777bbbb7777733333bb3333b77777b3333333333377b3bb773333777777777ee8e7777ee77777b33
33333b777bb3333bbb77777b333333337777777777b33b777b33333b7777b3333333333b77ee77bb333333333b7777777333377777ee7777ee77ee88e7777733
33b33b77b3333b77777777777b333b7777777777777777777333b733bb77b3333333bbb77eee7777777333333b777777b333b777ee88e77787777e88e77777b3
33777777b333b7777bbb7777777777777777777777777777733377b3bb773333337777777eee777777b333333377b77b333377777e888777e87778887777777b
33bb777b33337777b33333b777777777777ee77777777777b3337777777b3333337777777888777777b33333333bb773333b77777e888887887887ee77777777
33333bb33333777b337bb3377777777777e88ee777777777333377777773333333b77777e888e77777bbb77bb333333333b7777777ee77888888777777777777
33333333333b777b3b77733b7777777777e88ee777777777bb33b7777733333333bb777788ee8e77777bb7777b33333333b77777777777788888777777777777
b33333333333777b3b77733377777777777eee777eee777777333b777b33bbb7bb77777e887788ee777777777777b33b7777777777777778888887eee7777777
77bb33333333bb777777733b77777eee77787777e888e77777b3333333333b77777777e88877e8888e777777777777777777777777eee787888787888e777777
77777733333333777777b3377777e888e77888778888e77777bb3333333bb7777777e8888e77e888888ee77777777777777777777788887788e778888e777777
77777bb33333333b777b33377777e888877ee8787eee7777777b3bb33b77777777788888e77777e888888e7777777777777777777e888e7777877e888e777777
e7777bb333333333333333b777777eee7877887877777777777777b37777777777e888ee7777777e888888e777777777777777777e888e77eee777eee7777777
e777777bb7bbb33333333b777777777777888887777777777777777777777777ee8888ee777777777e8888e77777777777777777777ee777788e777777777777
8e77777777777b33333b7777777777777788888777777777777777777777777ee888e77777777777777e88e777777777777777777777777ee88e777777777777
88e777777777777bb33b7777777777777777887887ee7777777777777777777ee88e777777777e777777e887777777777777777777777777e88e777777777777
e8888e777777777777777777777777ee78878e777888e7777777777777777777e8e777777e777e7e7777e8887777777777777777777777777ee777777777773b
7e88888e777777777777777777777e8888778e777e88ee77777777777777777788e7777e8777778e7eee88ee7777777777777777777777777777777777777377
77ee8888ee7777777777777777777e88ee7778777eee7777777777777777777788e777e8e77777e88ee88887777777777777b37777777777777777b3b7777377
77e77e8888e777777777777777777eeee777eee777ee77777777777777777777e88eeee877777778888888777777777777777737777b3bb77777733333b77373
777777e888e7777777777777777777eee77e888e77777777777777777777777778888888777777777888ee7777777b3bbb77773377b333337777b33b77377b33
777777eee88777777777777777777777777e888e77777777777777777777777777ee8887777777777777777777773333333b77337737bb33b777b3b7777b7733
e7777777e88777777777777777777777777e8ee777777777777b77777777777777777777777aa77a77777777777733bbb333333b773777b3377733b777777bb3
778e7777e887777777777777777777777777eee777777777773b777bb3b77777777777777a99999a77777777777b33b777b333377b777773377733777777b333
77e8eeee88e7777777777777777777777777777777b3b7777377777b3333377777777777799889997777777777733777777b333b77777773337733bb7777b333
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70707770777007707070777000000000707077700000000007707770707000000000777077700000777077707000770000000000000000000000000000000000
70707000070070007070070007000000707000700000000070007070707007000000707070700000007000707000070000000000000000000000000000000000
77707700070070007770070000000000777000700000000070007770707000000000777077700000777007707770070000000000000000000000000000000000
70707000070070707070070007000000007000700700000070007000707007000000007070700000700000707070070000000000000000000000000000000000
70707770777077707070070000000000007000707000000007707000077000000000007077700700777077707770777000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

